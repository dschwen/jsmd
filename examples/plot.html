<!DOCTYPE HTML>
<html lang="en">
  <head>
    <title>jsMD example</title>
    <meta charset="utf-8">
    <script type="text/javascript" src="../jsmd.js"></script>
    <script type="text/javascript" src="../lib/jquery-1.4.4.min.js"></script>
    <script type="text/javascript" src="../lib/jquery.flot.min.js"></script>
  <body>
    <div id="plot" style="width: 800px; height: 600px;">
    </div>
    <input type="" id="plotselect">
    <script type="text/javascript">
      function tab( f, min, max, step ) {
        var i, j = [];
        for( i = min; i <= max; i += step ) {
          j.push([i,f(i)]);
        }
        return j; 
      }

      // tabulate the morse potential with all default options
      var lj1 = jsmd.force.tabulated( jsmd.force.lennardJones() );
      var lj2 = jsmd.force.lennardJones();

      var force1 = jsmd.force.tabulated( jsmd.force.morse() );
      var force2 = jsmd.force.morse();

      var zble = jsmd.energy.ZBL();
      var zblf = jsmd.force.diff(jsmd.energy.ZBL);

      var plots = [
        { name : 'Morse detail', func : function() { 
            $.plot( $('#plot'), [ { data: tab( force1, 1.844, 1.849, 0.0001 ), color : 'rgb(200,0,0)', label : 'Morse tabulated' },
                                  { data: tab( force2, 1.844, 1.849, 0.0001 ), color : 'rgb(0,200,0)', label : 'Morse' } ] );
          } },
        { name : 'Lennard-Jones', func : function() { 
            $.plot( $('#plot'), [ { data: tab( lj1, 1.844, 1.849, 0.0001 ), color : 'rgb(200,0,0)', label : 'Lennard-Jones tabulated' },
                                  { data: tab( lj2, 1.844, 1.849, 0.0001 ), color : 'rgb(0,200,0)', label : 'Lennard-Jones' } ] );
          } },
        { name : 'Morse', func : function() { 
            $.plot( $('#plot'), [ { data: tab( force2, 0.1, 5.0, 0.02 ), color : 'rgb(200,0,0)', label : 'Morse' } ] );
          } },
        { name : 'ZBL', func : function() { 
            $.plot( $('#plot'), [ { data: tab( zble, 1.844, 1.849, 0.0001 ), color : 'rgb(200,0,0)', label : 'energy' },
                                  { data: tab( zblf, 1.844, 1.849, 0.0001 ), color : 'rgb(0,200,0)', label : 'force' } ] );
          } } ];
      $(plots).each( function(i,e) { $(plotselect).append(); } );
      $('#plotselect').change( function() {} );
    </script>
  </body>
</html>
